<html>
<head>
<title>3D game of life!</title>
<style>
body {
	margin: 0
}

canvas {
	width: 100% height:  100%
}

</style>
</head>
<body>
<script src="../js/three.min.js"></script>
<script src="../js/GameOfLife.js"></script>
<script src="../js/Table.js"></script>

<script> 
    var rows = 100;
    var files = 100;
    var nextStateTimeout = 100;
    
    var scene = new THREE.Scene()
    var camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 0.1, 1000 )
    var renderer = new THREE.WebGLRenderer()
    
    var table = new Table(files,rows, scene)
    var gameOfLife = new GameOfLife(files, rows)
    
    init()
    
    function init() {
        renderer.setSize( window.innerWidth, window.innerHeight )
        document.body.appendChild( renderer.domElement )
        camera.position.y = Math.round(files / 2)
        camera.position.x = Math.round(files / 2)
        camera.position.z = files
        render()
    }
    
    function render() { 
        setTimeout(function() {
            requestAnimationFrame( render )
        }, nextStateTimeout)
        renderer.render(scene, camera)
        
        table.updateCells(gameOfLife.calculateNextState())    
    }
    
</script>
</body>
</html>